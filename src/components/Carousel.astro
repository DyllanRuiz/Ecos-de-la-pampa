---
const imagenes = [
  "/images/Esquipulas.jpg",
  "/images/1.jpg",
  "/images/2.jpg",
  "/images/3.jpg",
  "/images/4.jpg",
  "/images/ultimosabanero.jpg",
  "/images/7.jpg",
];
---

<div
  id="carrusel"
  class="w-[427px] h-[640px] relative overflow-hidden rounded-2xl"
  aria-label="Carrusel de imágenes"
  role="region"
>
  {imagenes.map((src, i) => (
    <img
      src={src}
      alt={`Imagen carrusel ${i + 1}`}
      loading="lazy"
      class={`absolute top-0 left-0 w-full h-full object-cover rounded-2xl border-4 border-primary-300 opacity-0 transition-opacity duration-1000 ease-in-out ${
        i === 0 ? "opacity-70 z-10" : ""
      }`}
      draggable="false"
    />
  ))}
</div>

<script>
  // Encapsular todo en DOMContentLoaded para asegurar que el DOM esté listo
  document.addEventListener("DOMContentLoaded", () => {
    const imgs = document.querySelectorAll("#carrusel img");
    let index = 0;

    if (imgs.length === 0) return; 

    setInterval(() => {
  
      imgs[index].classList.remove("opacity-70", "z-10");
      imgs[index].classList.add("opacity-0");

 
      index = (index + 1) % imgs.length;


      imgs[index].classList.remove("opacity-0");
      imgs[index].classList.add("opacity-70", "z-10");
    }, 8000);
  });
</script>
